<?php

$project_root_dir = dirname(__FILE__);
$project_tmp_dir = sys_get_temp_dir();
if (!is_writable($project_tmp_dir)) {
   $project_tmp_dir = $project_root_dir;
}

if (!is_writable($project_tmp_dir)) {
   die(PS_ERR_NO_TEMP_FOLDER);
}

if (empty($_REQUEST['controller']) || $_REQUEST['controller'] == 'scanner') {

	require_once('classes/ScannerController.inc.php');

	$scannerController = new ScannerController();
	$scannerController->start();

} else if ( $_REQUEST['controller'] == 'executor' ) {

	require_once('classes/ExecutorController.inc.php');

	$executorController = new ExecutorController();
	$executorController->start();

} else if ( $_REQUEST['controller'] == 'download' ) {

	require_once('classes/DownloadController.inc.php');

	$downloadController = new DownloadController();
	$downloadController->start();

}