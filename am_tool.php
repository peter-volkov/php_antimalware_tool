<?

ob_start();
require_once("classes/FileInfo.php.inc");
require_once("classes/WebServerEnvInfo.php.inc");
require_once("classes/FileSystemSnapshot.php.inc");
require_once("classes/View.php.inc");
ob_end_clean();

$xml_log = new SimpleXMLElement("<website_info></website_info>");

$ws_env = new WebServerEnvInfo();
$ws_env->addToXML($xml_log);

$fs = new FileSystemSnapshot();
$fs->getXMLSnapshot();
$fs->addToXML($xml_log);

function template_output($xml_log) {
    $view = new View("/templates/");
    $view->set("title", "Result");
    $view->set("xml_log", htmlentities($xml_log->asXML()));
    $view->display("scanner.tpl");
}

function raw_xml_output($xml_log) {
    Header("Content-type: text/xml");		
    print $xml_log->asXML();
}

template_output($xml_log);


?>


